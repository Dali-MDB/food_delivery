<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - FoodExpress</title>
    <link rel="stylesheet" href="../css/admin.css">
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-utensils"></i>
                <span>FoodExpress</span>
            </div>
            <a href="admin.html" id="adminBtn" class="btn btn-admin" style="display: none; text-decoration: none;"><i class='fas fa-shield-alt'></i> Admin</a>
            <div class="nav-menu">
                <a href="index.html" class="nav-link">Home</a>
                <a href="categories.html" class="nav-link">Menu</a>
                <a href="orders.html" class="nav-link">Orders</a>
                <a href="reviews.html" class="nav-link">Reviews</a>
            </div>
            <div class="nav-auth">
                <button id="loginBtn" class="btn btn-outline">Login</button>
                <button id="signupBtn" class="btn btn-primary">Sign Up</button>
                <button id="logoutBtn" class="btn btn-outline" style="display: none;">Logout</button>
                <button id="profileBtn" class="btn btn-primary" style="display: none;">Profile</button>
            </div>
            <div class="nav-cart">
                <a href="cart.html" id="cartBtn" class="btn btn-cart" style="display: none; text-decoration: none;">
                    <i class="fas fa-shopping-cart"></i>
                    <span id="cartCount">0</span>
                </a>
            </div>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- admin Section -->
    
    <div class="admin-container">
        <!-- Sidebar -->
        <aside class="admin-sidebar" style="width: 240px; min-width: 240px; max-width: 240px;">
            <div class="sidebar-header">
                <div class="user-avatar">
                    <i class="fas fa-user"></i>
                </div>
                <div class="user-info">
                    <h3 id="sidebarAdminUsername">Admin Dashboard</h3>
                </div>
            </div>
            <nav class="admin-sidebar-nav">
                <a href="#" class="sidebar-link active" data-section="admin-dashboard">
                    <i class="fas fa-gauge"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="sidebar-link" data-section="add-admin">
                    <i class="fas fa-user-plus"></i>
                    <span>Add Admin</span>
                </a>
                <a href="#" class="sidebar-link" data-section="categories">
                    <i class="fas fa-list"></i>
                    <span>Categories</span>
                </a>
                <a href="#" class="sidebar-link" data-section="items">
                    <i class="fas fa-burger"></i>
                    <span>Items</span>
                </a>
                <a href="#" class="sidebar-link" data-section="orders">
                    <i class="fas fa-shopping-bag"></i>
                    <span>Orders</span>
                </a>
                <a href="#" class="sidebar-link" data-section="reviews">
                    <i class="fas fa-star"></i>
                    <span>Reviews</span>
                </a>
                <a href="#" class="sidebar-link" data-section="users">
                    <i class="fas fa-users"></i>
                    <span>Users</span>
                </a>
            </nav>
            <div class="sidebar-footer">
                <button id="logoutBtnSidebar" class="btn btn-danger btn-full">
                    <i class="fas fa-sign-out-alt"></i>
                    Logout
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="management-content">
            <!-- Admin Dashboard Section -->
            <div id="admin-dashboard" class="content-section active">
                <div class="section-header">
                    <h2>Admin Dashboard</h2>
                    <p>View and manage your account information</p>
                </div>
                <div class="admin-card">
                    <div class="admin-avatar-large">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="admin-details">
                        <h3 id="adminUsername">Loading...</h3>
                        <p id="adminEmail">loading@email.com</p>
                        <p id="adminPhone">Loading phone...</p>
                        <p id="adminJoinDate">Member since: Loading...</p>
                    </div>
                    <div class="admin-stats">
                        <div class="stat-item">
                            <span class="stat-number" id="totalOrders">0</span>
                            <span class="stat-label">Total Orders</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="totalReviews">0</span>
                            <span class="stat-label">Reviews</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="memberSince">0</span>
                            <span class="stat-label">Days</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Add Admin Section -->
            <div id="add-admin" class="content-section">
                <div class="section-header">
                    <h2>Add Admin</h2>
                    <p>Invite or create a new admin user (feature coming soon)</p>
                </div>
                <div class="admin-card">
                    <p>Feature coming soon.</p>
                </div>
            </div>

            <!-- Categories Management Section -->
            <div id="categories" class="content-section">
                <div class="section-header" style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <h2>Categories Management</h2>
                        <p>View, add, edit, or delete categories</p>
                    </div>
                    <button id="showAddCategoryBtn" class="btn btn-primary" style="font-size: 1.5rem; padding: 0.5em 1em; display: flex; align-items: center;"><i class="fas fa-plus"></i></button>
                </div>
                <div id="categoriesList" style="display: flex; flex-direction: column; gap: 1em;">
                    <!-- Categories will be loaded here as cards/rows -->
                        </div>
                <div id="categoryItemsContainer" style="margin-top:2em;">
                    <!-- Items for selected category will be loaded here -->
                </div>
            </div>

            <!-- Items Management Section -->
            <div id="items" class="content-section">
                <div class="section-header" style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <h2>Items Management</h2>
                    </div>
                    <div style="display: flex; gap: 1em; align-items: center;">
                        <select id="itemsCategoryFilter" class="form-control" style="min-width: 140px;">
                            <option value="all">All Categories</option>
                            <!-- Category options will be populated by JS -->
                        </select>
                        <select id="itemsSortSelect" class="form-control" style="min-width: 120px;">
                            <option value="name">Sort by Name</option>
                            <option value="price">Sort by Price</option>
                            <option value="category">Sort by Category</option>
                        </select>
                        <button id="showAddItemBtn" class="btn btn-primary" style="font-size: 1.5rem; padding: 0.5em 1em; display: flex; align-items: center;"><i class="fas fa-plus"></i></button>
                    </div>
                </div>
                <div id="itemsList" style="display: flex; flex-direction: column; gap: 2em;">
                    <!-- Items will be loaded here as cards grouped by category -->
                </div>
            </div>

            <!-- Orders Management Section -->
            <div id="orders" class="content-section">
                <div class="section-header">
                    <h2>Orders Management</h2>
                    <p>View and manage all orders (feature coming soon)</p>
                </div>
                <div class="admin-card">
                    <p>Feature coming soon.</p>
                </div>
            </div>

            <!-- Reviews Management Section -->
            <div id="reviews" class="content-section">
                <div class="section-header">
                    <h2>Reviews Management</h2>
                    <p>View and manage reviews (feature coming soon)</p>
                </div>
                <div class="admin-card">
                    <p>Feature coming soon.</p>
                </div>
            </div>

            <!-- Users Management Section -->
            <div id="users" class="content-section">
                <div class="section-header">
                    <h2>Users Management</h2>
                    <p>View and manage users (feature coming soon)</p>
                </div>
                <div class="admin-card">
                    <p>Feature coming soon.</p>
                </div>
            </div>
        </main>
    </div>
    

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content auth-modal">
            <div class="modal-header">
                <h2>Login</h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <form id="loginForm" class="auth-form">
                    <div class="form-group">
                        <label for="loginEmail">Email</label>
                        <input type="email" id="loginEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">Password</label>
                        <input type="password" id="loginPassword" required>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full">Login</button>
                </form>
                <p class="auth-switch">Don't have an account? <a href="#" id="switchToSignup">Sign up</a></p>
            </div>
        </div>
    </div>

    <!-- Signup Modal -->
    <div id="signupModal" class="modal">
        <div class="modal-content auth-modal">
            <div class="modal-header">
                <h2>Sign Up</h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <form id="signupForm" class="auth-form">
                    <div class="form-group">
                        <label for="signupUsername">Username</label>
                        <input type="text" id="signupUsername" required>
                    </div>
                    <div class="form-group">
                        <label for="signupEmail">Email</label>
                        <input type="email" id="signupEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="signupPhone">Phone</label>
                        <input type="tel" id="signupPhone" required>
                    </div>
                    <div class="form-group">
                        <label for="signupPassword">Password</label>
                        <input type="password" id="signupPassword" required>
                    </div>
                    <button type="submit" class="btn btn-primary btn-full">Sign Up</button>
                </form>
                <p class="auth-switch">Already have an account? <a href="#" id="switchToLogin">Login</a></p>
            </div>
        </div>
    </div>
     
    <!-- Simple Delete Confirmation Modal -->
    <div id="adminConfirmModal" class="modal" style="display:none;">
      <div class="modal-content" style="max-width: 500px; text-align: center;">
        <div style="padding: 2em 1em;">
          <div id="adminConfirmMessage" style="font-size: 1.15rem; margin-bottom: 2em;">Are you sure you want to delete this item?</div>
          <div style="display: flex; gap: 1em; justify-content: center;">
            <button id="adminConfirmCancel" class="btn btn-secondary" type="button">Cancel</button>
            <button id="adminConfirmOk" class="btn btn-danger" type="button">Delete</button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Item Add/Edit Modal -->
    <div id="adminItemModal" class="modal" style="display:none;">
      <div class="modal-content" style="max-width: 380px;">
        <button id="closeAdminItemModal" class="btn btn-secondary" style="position: absolute; top: 12px; right: 18px; z-index: 2;">&times;</button>
        <div id="addItemContainerModal" style="display:none;">
          <form id="addItemForm" style="display: flex; flex-direction: column; gap: 0.5em;">
            <h3 style="margin-bottom: 0.5em;">Add Item</h3>
            <div class="modal-form-row">
              <label for="itemName">Name</label>
              <input type="text" id="itemName" required class="form-control">
            </div>
            <div class="modal-form-row">
              <label for="itemDescription">Description</label>
              <input type="text" id="itemDescription" class="form-control">
            </div>
            <div class="modal-form-row">
              <label for="itemPrice">Price</label>
              <input type="number" id="itemPrice" required class="form-control" min="0" step="0.01">
            </div>
            <div class="modal-form-row">
              <label for="itemCategory">Category</label>
              <select id="itemCategory" required class="form-control"></select>
            </div>
            <div style="display: flex; gap: 1em; justify-content: flex-end; margin-top: 1em;">
              <button type="submit" class="btn btn-primary">Add Item</button>
              <button type="button" id="cancelAddItemModal" class="btn btn-secondary">Cancel</button>
            </div>
          </form>
        </div>
        <div id="editItemContainerModal" style="display:none;">
          <form id="editItemForm" style="display: flex; flex-direction: column; gap: 0.5em;">
            <h3 style="margin-bottom: 0.5em;">Edit Item</h3>
            <input type="hidden" id="editItemId">
            <div class="modal-form-row">
              <label for="editItemName">Name</label>
              <input type="text" id="editItemName" required class="form-control">
            </div>
            <div class="modal-form-row">
              <label for="editItemDescription">Description</label>
              <input type="text" id="editItemDescription" class="form-control">
            </div>
            <div class="modal-form-row">
              <label for="editItemPrice">Price</label>
              <input type="number" id="editItemPrice" required class="form-control" min="0" step="0.01">
            </div>
            <div class="modal-form-row">
              <label for="editItemCategory">Category</label>
              <select id="editItemCategory" required class="form-control"></select>
            </div>
            <div style="display: flex; gap: 1em; justify-content: flex-end; margin-top: 1em;">
              <button type="submit" class="btn btn-primary">Save Changes</button>
              <button type="button" id="cancelEditItemModal" class="btn btn-secondary">Cancel</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Category Add/Edit Modal -->
    <div id="adminCategoryModal" class="modal" style="display:none;">
      <div class="modal-content" style="max-width: 440px;">
        <button id="closeAdminCategoryModal" class="btn btn-secondary" style="position: absolute; top: 12px; right: 18px; z-index: 2;">&times;</button>
        <div id="addCategoryContainerModal" style="display:none;">
          <form id="addCategoryForm" style="display: flex; flex-direction: column; gap: 0.5em;">
            <h3 style="margin-bottom: 0.5em;">Add Category</h3>
            <div class="modal-form-row">
              <label for="categoryName">Name</label>
              <input type="text" id="categoryName" required class="form-control">
            </div>
            <div style="display: flex; gap: 1em; justify-content: flex-end; margin-top: 1em;">
              <button type="submit" class="btn btn-primary">Add Category</button>
              <button type="button" id="cancelAddCategoryModal" class="btn btn-secondary">Cancel</button>
            </div>
          </form>
        </div>
        <div id="editCategoryContainerModal" style="display:none;">
          <form id="editCategoryForm" style="display: flex; flex-direction: column; gap: 0.5em;">
            <h3 style="margin-bottom: 0.5em;">Edit Category</h3>
            <input type="hidden" id="editCategoryId">
            <div class="modal-form-row">
              <label for="editCategoryName">Name</label>
              <input type="text" id="editCategoryName" required class="form-control">
            </div>
            <div style="display: flex; gap: 1em; justify-content: flex-end; margin-top: 1em;">
              <button type="submit" class="btn btn-primary">Save Changes</button>
              <button type="button" id="cancelEditCategoryModal" class="btn btn-secondary">Cancel</button>
            </div>
          </form>
        </div>
      </div>
    </div>
    
     <script src="../js/app.js"></script>
    <script src="../js/profile.js"></script>
    <script src="../js/admin.js"></script>

   
</body>
</html> 